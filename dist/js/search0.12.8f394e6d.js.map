{"version":3,"sources":["webpack:///src/router/views/other/search.vue","webpack:///./src/router/views/other/search.vue?cee7","webpack:///./src/router/views/other/search.vue"],"names":["search","this","params","searchQuery","query","type","stageImage","results","images","albums","items","artists","length","toLocaleString","total","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","resource","dataToFetch","model","value","callback","$$v","response","expression","image","getStageImage","subtitle","$tc","title","$t","$route","_e","count","getCount","getTotalCount","_l","tracks","track","index","key","id","slot","trackId","album","name","explicit","popularity","duration","duration_ms","primaryid","secondaryid","artist","staticRenderFns","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__"],"mappings":"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","file":"js/search0.12.8f394e6d.js","sourcesContent":["<template lang='pug'>\napi-request.o-view__parent(:resource='dataToFetch', v-model='response')\n\n  // stage\n  ma-stage(\n    v-if='response.results',\n    :image='getStageImage',\n    :subtitle='$tc(\"search\", 1)',\n    :title='`${$t(\"resultsfor\")} \"${$route.params.searchQuery}\"`')\n\n  .o-view__content(v-if='response.results')\n    // tracks\n    ma-section(\n      v-if='response.results.tracks',\n      :title='$tc(\"track\", 0)',\n      :subtitle='$t(\"showingxresults\", { count: getCount(\"tracks\"), total: getTotalCount(\"tracks\") })')\n\n      ma-list(\n        slot='list',\n        v-for='(track, index) in response.results.tracks.items',\n        :key='track.id',\n        :trackId='track.id',\n        :image='track.album.images',\n        :title='track.name',\n        :artists='track.artists',\n        :album='track.album',\n        :explicit='track.explicit',\n        :popularity='track.popularity',\n        :duration='track.duration_ms',\n        :index='index')\n\n    // albums\n    ma-section(\n      v-if='response.results.albums',\n      :title='$tc(\"album\", 0)',\n      :subtitle='$t(\"showingxresults\", { count: getCount(\"albums\"), total: getTotalCount(\"albums\") })')\n\n      ma-box(\n        slot='boxes',\n        v-for='album in response.results.albums.items',\n        :key='album.id',\n        :type='album.type',\n        :primaryid='album.id',\n        :secondaryid='album.artists[0].id',\n        :image='album.images',\n        :title='album.name',\n        :artists='album.artists')\n\n    // artists\n    ma-section(\n      v-if='response.results.artists',\n      :title='$tc(\"artist\", 0)',\n      :subtitle='$t(\"showingxresults\", { count: getCount(\"artists\"), total: getTotalCount(\"artists\") })')\n\n      ma-box(\n        slot='boxes',\n        v-for='artist in response.results.artists.items',\n        :key='artist.id',\n        :type='artist.type',\n        :title='artist.name',\n        :image='artist.images',\n        :primaryid='artist.id')\n</template>\n\n\n<script>\nimport { getSearchResults } from '@/api/providers/spotify';\n\nexport default {\n\n  data: () => ({\n    response: {},\n  }),\n\n  computed: {\n    // get data to fetch from api\n    dataToFetch() {\n      const self = this,\n        { searchQuery } = self.$route.params,\n        { type } = self.$route.query;\n\n      return {\n        results: () => getSearchResults({ type: type || 'album,artist,track', searchQuery }),\n      };\n    },\n\n    // get the stage image\n    getStageImage() {\n      const self = this,\n        { tracks, albums, artists } = self.response.results;\n\n      let stageImage;\n\n      if (tracks) stageImage = tracks.items[0].album.images;\n      else if (albums) stageImage = albums.items[0].images;\n      else if (artists) stageImage = artists.items[0].images;\n\n      return stageImage;\n    },\n  },\n\n  methods: {\n    // get item count from response\n    getCount(type) {\n      const self = this,\n        data = self.response.results[type],\n        count = data.items.length;\n\n      return count.toLocaleString();\n    },\n\n    // get total item count from response\n    getTotalCount(type) {\n      const self = this,\n        data = self.response.results[type],\n        totalCount = data.total;\n\n      return totalCount.toLocaleString();\n    },\n  },\n\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/router/views/other/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('api-request',{staticClass:\"o-view__parent\",attrs:{\"resource\":_vm.dataToFetch},model:{value:(_vm.response),callback:function ($$v) {_vm.response=$$v},expression:\"response\"}},[(_vm.response.results)?_c('ma-stage',{attrs:{\"image\":_vm.getStageImage,\"subtitle\":_vm.$tc(\"search\", 1),\"title\":((_vm.$t(\"resultsfor\")) + \" \\\"\" + (_vm.$route.params.searchQuery) + \"\\\"\")}}):_vm._e(),(_vm.response.results)?_c('div',{staticClass:\"o-view__content\"},[(_vm.response.results.tracks)?_c('ma-section',{attrs:{\"title\":_vm.$tc(\"track\", 0),\"subtitle\":_vm.$t(\"showingxresults\", { count: _vm.getCount(\"tracks\"), total: _vm.getTotalCount(\"tracks\") })}},_vm._l((_vm.response.results.tracks.items),function(track,index){return _c('ma-list',{key:track.id,attrs:{\"slot\":\"list\",\"trackId\":track.id,\"image\":track.album.images,\"title\":track.name,\"artists\":track.artists,\"album\":track.album,\"explicit\":track.explicit,\"popularity\":track.popularity,\"duration\":track.duration_ms,\"index\":index},slot:\"list\"})})):_vm._e(),(_vm.response.results.albums)?_c('ma-section',{attrs:{\"title\":_vm.$tc(\"album\", 0),\"subtitle\":_vm.$t(\"showingxresults\", { count: _vm.getCount(\"albums\"), total: _vm.getTotalCount(\"albums\") })}},_vm._l((_vm.response.results.albums.items),function(album){return _c('ma-box',{key:album.id,attrs:{\"slot\":\"boxes\",\"type\":album.type,\"primaryid\":album.id,\"secondaryid\":album.artists[0].id,\"image\":album.images,\"title\":album.name,\"artists\":album.artists},slot:\"boxes\"})})):_vm._e(),(_vm.response.results.artists)?_c('ma-section',{attrs:{\"title\":_vm.$tc(\"artist\", 0),\"subtitle\":_vm.$t(\"showingxresults\", { count: _vm.getCount(\"artists\"), total: _vm.getTotalCount(\"artists\") })}},_vm._l((_vm.response.results.artists.items),function(artist){return _c('ma-box',{key:artist.id,attrs:{\"slot\":\"boxes\",\"type\":artist.type,\"title\":artist.name,\"image\":artist.images,\"primaryid\":artist.id},slot:\"boxes\"})})):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f4039a00\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug&optionsId=0!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/router/views/other/search.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/leonseipp/web/music-app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/leonseipp/web/music-app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f4039a00\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug&optionsId=0!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/router/views/other/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}